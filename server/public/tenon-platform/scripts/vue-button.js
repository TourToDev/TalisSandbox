(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vue-button"],{"0131":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"button-component",style:{width:t.width,height:t.height,"line-height":t.height},on:{click:t.click}},["text"===t.buttonStyle?n("div",{staticClass:"button"},[n("span",{staticClass:"text",style:{"font-size":t.fontSize,color:t.textColor}},[t._v(t._s(t.kycOpen?t.approveShow?t.contentKyc:t.contentForKycError:t.buttonName))])]):n("div",{staticClass:"button",style:{"background-color":t.buttonColor,"border-radius":"circle"===t.buttonStyle?Number.parseFloat(t.height)/2+"rem":"0px"}},[n("span",{style:{"font-size":t.fontSize,color:t.textColor}},[t._v(t._s(t.kycOpen?t.approveShow?t.contentKyc:t.contentForKycError:t.buttonName))])])])},a=[],c=(n("99af"),n("4160"),n("caad"),n("c975"),n("a15b"),n("d81d"),n("13d5"),n("b64b"),n("ac1f"),n("2532"),n("466d"),n("5319"),n("1276"),n("498a"),n("159b"),n("2909")),i=n("cebe"),r=n.n(i),l=[{label:"关注股",value:"K000322",children:[{label:"关注股代码",value:"K000322-0"},{label:"关注股名称",value:"K000322-1"}]},{label:"股龄",value:"K001366",children:[{label:"股龄",value:"K001366"}]},{label:"常驻城市",value:"K001565",children:[{label:"常驻城市",value:"K001565"}]},{label:"性别",value:"K000516",children:[{label:"性别",value:"K000516"}]}],s=n("8237"),u=n.n(s),d={data:function(){return{approveShow:!0,contentKyc:"",kycCodeList:[]}},watch:{contentForKyc:{handler:function(){this.getEquipment()||(this.contentKyc=this.contentForKyc)}}},created:function(){!0===this.kycOpen&&(this.getEquipment()?this.replaceKycTags(this.contentForKyc):this.contentKyc=this.contentForKyc)},methods:{getEquipment:function(){var t=navigator.userAgent;return!!t.match(/AppleWebKit.*Mobile.*/)},replaceKycTags:function(t){var e=this,n=t.match(/\{\K([^}]*)\}/g)||[];n=n.map((function(t){return t.replace(/{K|}/g,"")}));var o=this.getAllKycTags();o.forEach((function(t){if(n.includes(t.label)){var o=t.value.indexOf("-")>-1?t.value.substring(0,t.value.indexOf("-")):t.value;e.kycCodeList.includes(o)||e.kycCodeList.push(o)}})),this.getKycData(activity.page.detail.kycTagList.join().replace(/-1|-0/g,""))},getKycData:function(t){var e=this;setTimeout((function(){window.kycData?(e.isContained(Object.keys(window.kycData),e.kycCodeList)?e.getRealKycContent(window.kycData):e.approveShow=!1,console.log("获取window的kyc变量",e.kycCodeList)):(console.log("组件内部调用kyc接口"),e.getKycByApi(t))}),100)},getKycByApi:function(t){var e=this,o=/(iphone)|(mac)|(ipad)/gi.test(navigator.userAgent)?"iphone":"gphone",a=this.getUserid(),c=u()(u()("".concat(a).concat(t,"hexinapp")));r()({methods:"get",url:"".concat("//eq.10jqka.com.cn/interface/yxzt/kyc/api","?encryption=").concat(c,"&platform=").concat(o,"&business=sunmao&kyc_label_code=").concat(t),withCredentials:!0}).then((function(t){var o=t.data,a=o.status_code,c=o.status_msg,i=o.data;console.log("组件内部调用kyc接口 end");var r=n("e762").Base64;i=JSON.parse(r.decode(i)||"{}"),0===a?e.isContained(Object.keys(i),e.kycCodeList)?e.getRealKycContent(i):e.approveShow=!1:(console.log("获取当前用户的KYC标签失败：",c),e.approveShow=!1)})).catch((function(){console.log("调用获取当前用户的KYC标签接口失败！"),e.approveShow=!1}))},getRealKycContent:function(t){var e=this,n=this.getAllKycTags();Object.keys(t).forEach((function(e){n.forEach((function(n){n.value.indexOf(e)>-1&&(n.value.indexOf("-")>-1?t[n.label]=t[e].split("#")[n.value.split("-")[1]]:t[n.label]=t[e])}))})),this.contentKyc=this.contentForKyc.replace(/\{\K([^}]*)\}/g,(function(){var n=t[arguments[1]];return"股龄"===arguments[1]&&(n<1?e.approveShow=!1:n=Math.floor(n)),Object.keys(t).includes(arguments[1])?n:arguments[0]}))},getAllKycTags:function(){return l.reduce((function(t,e){return e.children&&e.children.length>0&&t.push.apply(t,Object(c["a"])(e.children)),t}),[])},getUserid:function(){var t=document.cookie,e=0;if(0!=t.length)for(var n=t.split(";"),o=0;o<n.length;o++){var a=n[o].split("=");"userid"==a[0].trim()&&(e=a[1])}return 0==e&&(e=getUaUserid()),e},isContained:function(t,e){if(!(t instanceof Array)||!(e instanceof Array))return!1;if(t.length<e.length)return!1;for(var n=0,o=e.length;n<o;n++)if(!t.includes(e[n]))return!1;return!0}}},p={name:"VueButton",mixins:[d],props:{width:{type:String,default:"100%"},height:{type:String,default:"1rem"},buttonStyle:{type:String,default:"squre"},buttonName:{type:String,default:"按钮名称"},fontSize:{type:String,default:"12px"},textColor:{type:String,default:"rgba(255,255,255,1)"},buttonColor:{type:String,default:"rgba(24,144,255,1)"},kycOpen:{type:Boolean,default:!1},contentForKyc:{type:String,default:"按钮名称"},contentForKycError:{type:String,default:""},eventAndStat:{type:Function}},methods:{click:function(){this.eventAndStat("btn",0)}}},h=p,y=(n("a95e"),n("2877")),f=Object(y["a"])(h,o,a,!1,null,"77d3009e",null);e["default"]=f.exports},"13d5":function(t,e,n){"use strict";var o=n("23e7"),a=n("d58f").left,c=n("a640"),i=n("ae40"),r=c("reduce"),l=i("reduce",{1:0});o({target:"Array",proto:!0,forced:!r||!l},{reduce:function(t){return a(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},a95e:function(t,e,n){"use strict";var o=n("bc70"),a=n.n(o);a.a},bc70:function(t,e,n){var o=n("be0b");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=n("499e").default;a("3aa25a8d",o,!0,{sourceMap:!1,shadowMode:!1})},be0b:function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,".button-component .button[data-v-77d3009e]{width:100%;height:100%;margin:auto;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;white-space:nowrap;overflow:hidden}.button-component .text[data-v-77d3009e]{color:#1890ff;text-decoration:underline;white-space:nowrap;overflow:hidden}",""]),t.exports=e}}]);